{"ast":null,"code":"var _jsxFileName = \"/Users/santiagoprario/Desktop/PI-Country/client/src/Components/Addactivities/addactivities.js\",\n    _s = $RefreshSig$();\n\n// Ruta de creación de actividad turística: debe contener\n// [x] Un formulario controlado con los siguientes campos\n// Nombre\n// Dificultad\n// Duración\n// Temporada\n// [ ] Posibilidad de seleccionar/agregar varios países en simultaneo\n// [ ] Botón/Opción para crear una nueva actividad turística\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { btn, container, checkmark, containerAdd, inputStyle, largeBtn, checkBox, range } from \"./AddActivity.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddActivity = () => {\n  _s();\n\n  let [country, setCountry] = useState(\"\");\n  let [activity, setActivity] = useState({\n    countries: [],\n    name: \"\",\n    dificulty: \"1\",\n    duration: \"\"\n  });\n  let [season, setSeason] = useState([]); // const dispatch = useDispatch()\n\n  let countriesList = useSelector(state => state.countries);\n\n  const handleCheck = e => {\n    e.target.checked && setSeason([...season, e.target.value]);\n    !e.target.checked && setSeason([...season.filter(s => s !== e.target.value)]);\n  };\n\n  const handleChange = e => {\n    e.preventDefault();\n    let nam = e.target.name;\n    let val = e.target.value;\n    setActivity({ ...activity,\n      [nam]: val\n    });\n    console.log(countriesList);\n  };\n\n  let addCountry = e => {\n    e.preventDefault();\n    console.log(country);\n    console.log(validateCountry(country));\n\n    if (validateCountry(country)) {\n      setActivity({ ...activity,\n        countries: [...activity.countries, country]\n      });\n      setCountry(\"\");\n    } else {\n      alert(\"not country\");\n    }\n  };\n\n  let delCountry = e => {\n    e.preventDefault();\n    setActivity({ ...activity,\n      countries: [...activity.countries.filter(c => c !== e.target.name)]\n    });\n  };\n\n  let handleSubmit = e => {\n    e.preventDefault();\n    console.log(activity);\n    let {\n      name,\n      dificulty,\n      duration\n    } = activity;\n    activity.countries.map(country => axios.post('http://localhost:3001/api/activity/country', {\n      country,\n      name,\n      dificulty,\n      duration\n    }));\n    season.map(season => axios.post('http://localhost:3001/api/activity/season', {\n      season,\n      name,\n      dificulty,\n      duration\n    }));\n    alert(\"Activity created\");\n  };\n\n  let validateCountry = a => {\n    console.log(\"hol\", countriesList);\n    return countriesList.some(c => c.name === a);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: containerAdd,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Add Activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"  Activity Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: inputStyle,\n        type: \"text\",\n        name: \"name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Dificulty (\", activity.dificulty, \"):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 69\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: inputStyle,\n          id: range,\n          type: \"range\",\n          min: \"1\",\n          max: \"5\",\n          step: \"1\",\n          name: \"dificulty\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 144\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Duration(days): \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 52\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: inputStyle,\n          type: \"number\",\n          name: \"duration\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Country:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: inputStyle,\n          type: \"text\",\n          name: \"country\",\n          onChange: e => setCountry(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: btn,\n          onClick: addCountry,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 76\n        }, this), Array.isArray(activity.countries) && activity.countries.map(c => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [c, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: btn,\n            name: c,\n            onClick: delCountry,\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 98\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 87\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Seasons:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: checkBox,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: container,\n          children: [\"Winter\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"Winter\",\n            value: \"Winter\",\n            onClick: handleCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: checkmark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: container,\n          children: [\"Autumn\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"Autumn\",\n            value: \"Autumn\",\n            onClick: handleCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: checkmark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: container,\n          children: [\"Summer\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"Summer\",\n            value: \"Summer\",\n            onClick: handleCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: checkmark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: container,\n          children: [\"Spring\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"Spring\",\n            value: \"Spring\",\n            onClick: handleCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: checkmark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: largeBtn,\n        value: \"Add Activity\",\n        onClick: handleSubmit,\n        children: \" Add \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddActivity, \"OQ0OcNkHkLjGQtUleO/+TBl75Fc=\", false, function () {\n  return [useSelector];\n});\n\n_c = AddActivity;\nexport default AddActivity;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddActivity\");","map":{"version":3,"sources":["/Users/santiagoprario/Desktop/PI-Country/client/src/Components/Addactivities/addactivities.js"],"names":["axios","React","useState","useSelector","btn","container","checkmark","containerAdd","inputStyle","largeBtn","checkBox","range","AddActivity","country","setCountry","activity","setActivity","countries","name","dificulty","duration","season","setSeason","countriesList","state","handleCheck","e","target","checked","value","filter","s","handleChange","preventDefault","nam","val","console","log","addCountry","validateCountry","alert","delCountry","c","handleSubmit","map","post","a","some","Array","isArray"],"mappings":"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","sourcesContent":["\n\n// Ruta de creación de actividad turística: debe contener\n\n// [x] Un formulario controlado con los siguientes campos\n// Nombre\n// Dificultad\n// Duración\n// Temporada\n// [ ] Posibilidad de seleccionar/agregar varios países en simultaneo\n// [ ] Botón/Opción para crear una nueva actividad turística\n\nimport axios from 'axios';\nimport React, { useState } from 'react'\nimport { useSelector } from 'react-redux';\nimport { btn, container, checkmark, containerAdd, inputStyle, largeBtn, checkBox, range } from \"./AddActivity.module.css\";\n\n\n\n\nconst AddActivity = () => {\n    let [country, setCountry] = useState(\"\")\n    let [activity, setActivity] = useState({ countries: [], name: \"\", dificulty: \"1\", duration: \"\" })\n    let [season, setSeason] = useState([])\n    // const dispatch = useDispatch()\n\n\n    let countriesList = useSelector(state => state.countries)\n\n    const handleCheck = (e) => {\n        e.target.checked && setSeason([...season, e.target.value])\n        !e.target.checked && setSeason([...season.filter(s => s !== e.target.value)])\n    }\n    const handleChange = (e) => {\n        e.preventDefault();\n        let nam = e.target.name\n        let val = e.target.value\n        setActivity({ ...activity, [nam]: val })\n        console.log(countriesList)\n    }\n    let addCountry = (e) => {\n        e.preventDefault();\n        console.log(country)\n        console.log(validateCountry(country))\n        if (validateCountry(country)) {\n            setActivity({ ...activity, countries: [...activity.countries, country] })\n            setCountry(\"\")\n        } else {\n            alert(\"not country\")\n        }\n    }\n    let delCountry = e => {\n        e.preventDefault()\n        setActivity({ ...activity, countries: [...activity.countries.filter(c => c !== e.target.name)] })\n    }\n\n    let handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(activity)\n        let { name, dificulty, duration } = activity\n        activity.countries.map(country =>\n            axios.post('http://localhost:3001/api/activity/country',\n                { country, name, dificulty, duration })\n        )\n        season.map(season =>\n            axios.post('http://localhost:3001/api/activity/season',\n                { season, name, dificulty, duration })\n        )\n        alert(\"Activity created\")\n    }\n\n    let validateCountry = (a) => {\n        console.log(\"hol\", countriesList)\n        return countriesList.some(c => c.name === a)\n    }\n    return (\n        <div className={containerAdd}>\n            <form>\n                <div>\n                    <h4>Add Activity</h4>\n                </div>\n                <label>  Activity Name: </label><br />\n                <input className={inputStyle} type=\"text\" name=\"name\" onChange={handleChange} />\n                <div>\n                    <label>Dificulty ({activity.dificulty}):</label><br />\n                    <input className={inputStyle}  id={range} type=\"range\" min=\"1\" max=\"5\" step=\"1\" name=\"dificulty\" onChange={handleChange} /><br />\n                    <label>Duration(days): </label><br />\n                    <input className={inputStyle}type=\"number\" name=\"duration\" onChange={handleChange} />\n                </div>\n                <div>\n                    <label>Country:</label> <br />\n                    <input className={inputStyle}  type=\"text\" name=\"country\" onChange={e => setCountry(e.target.value)} />\n                    <button className={btn} onClick={addCountry}>+</button><br />\n\n                    {Array.isArray(activity.countries) && activity.countries.map(c => <label>{c} <button className={btn} name={c} onClick={delCountry}>x</button></label>)}\n                </div>\n                <label>Seasons:</label>\n                <div className={checkBox}>\n                    <label className={container}>Winter \n                    <input type=\"checkbox\" id=\"Winter\" value=\"Winter\" onClick={handleCheck} />\n                        <span className={checkmark} />\n                    </label>\n                    <label className={container}>Autumn \n                    <input type=\"checkbox\" id=\"Autumn\" value=\"Autumn\" onClick={handleCheck} />\n                        <span className={checkmark} />\n                    </label>\n                    <label className={container}>Summer\n                    <input type=\"checkbox\" id=\"Summer\" value=\"Summer\" onClick={handleCheck} />\n                        <span className={checkmark} />\n                    </label>\n                    <label className={container}>Spring\n                    <input type=\"checkbox\" id=\"Spring\" value=\"Spring\" onClick={handleCheck} />\n                        <span className={checkmark} />\n                    </label>\n                </div>\n                <button className={largeBtn} value=\"Add Activity\" onClick={handleSubmit} > Add </button>\n\n            </form>\n        </div>\n    )\n}\nexport default AddActivity"]},"metadata":{},"sourceType":"module"}